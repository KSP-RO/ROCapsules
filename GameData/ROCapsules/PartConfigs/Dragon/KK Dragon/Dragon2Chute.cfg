PART
{
	name = ROC-Dragon2Chute
	module = Part
	author = Kartoffelkuchen, Vader111

	RSSROConfig = True

	//  ============================================================================
	//  Model and Dimensions
	//  ============================================================================

	MODEL
	{
		model = ROCapsules/Assets/KK/Dragon2Chute
	}

	scale = 1
	rescaleFactor = 1

	node_stack_bottom = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, 2	
	CoMOffset = 0.0, 0.0, 1.557307

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	//  ============================================================================
	//  Title, Description, Category, Techs
	//  ============================================================================

	TechRequired = unlockParts
	entryCost = 1
	cost = 150
	category = Utility
	subcategory = 0
	title = Crew Dragon Parachute
	manufacturer = SpaceX
	description = Crew Dragon Parachute
	tags = Spacex, Dragon, Crew

	sound_parachute_open = activate

	//  ============================================================================
	//  Thermo, Durability
	//  ============================================================================

	mass = 0.5
	dragModelType = default
	crashTolerance = 12
	maxTemp = 900
	skinMaxTemp = 1200
	breakingForce = 250
	breakingTorque = 250
	bodyLiftMultiplier = 0
	stageOffset = -1
	stagingIcon = PARACHUTES

	//  ============================================================================
	//  Modules and Resources
	//  ============================================================================

	MODULE:NEEDS[!RealChute]
	{
		name = ModuleParachute
		invertCanopy = true
		autoCutSpeed = 0.5
		capName = main_package
		canopyName = mainChute_pivot
		semiDeployedAnimation = KK_SpXCD_mains_semi
		fullyDeployedAnimation = KK_SpXCD_mains_fully
		stowedDrag = 0.12
		semiDeployedDrag = 5
		fullyDeployedDrag = 10
		minAirPressureToOpen = 0.01
		clampMinAirPressure = 0.01
		deployAltitude = 1500
		deploymentSpeed = 0.25
		semiDeploymentSpeed = 0.5
		chuteMaxTemp = 673.15
		chuteThermalMassPerArea = 0.08
	}

	MODULE:NEEDS[RealChute]
	{
		name = RealChuteModule
		caseMass = 0.25
		timer = 0
		mustGoDown = false
		spareChutes = 0
		cutSpeed = 0.25
		secondaryChute = False

		PARACHUTE
		{
			parachuteName = mainChute_pivot
			capName = main_package
			preDeploymentAnimation = KK_SpXCD_mains_semi
			deploymentAnimation = KK_SpXCD_mains_fully
			material = Nylon
			minIsPressure = False
			minPressure = 0.01
			preDeployedDiameter = 4
			preDeploymentSpeed = 2.5
			minDeployment = 3500
			deployedDiameter = 55
			deploymentSpeed = 5.0
			deploymentAlt = 1500
			cutAlt = -1
		}
	}

	EFFECTS
	{
		rcpredeploy
		{	AUDIO
			{	channel = Ship
				clip = sound_parachute_open
				volume = 1
			}
		}
		rcdeploy
		{
			AUDIO
			{	channel = Ship
				clip = sound_parachute_single
				volume = 1
			}
		}
		rccut
		{	AUDIO
			{	channel = Ship
				clip = RealChute/Sounds/sound_parachute_cut
				volume = 1
			}
		}
		rcrepack
		{	AUDIO
			{	channel = Ship
				clip = RealChute/Sounds/sound_parachute_repack
				volume = 1
			}
		}
	}

	MODULE
	{
		name = ModuleDragModifier
		dragCubeName = SEMIDEPLOYED
		dragModifier = 0.67
	}

	MODULE
	{
		name = ModuleDragModifier
		dragCubeName = DEPLOYED
		dragModifier = 25
	}
}

@PART[ROC-Dragon2Chute]:AFTER[zzzRealismOverhaul]
{
	// RO forces all RealChuteModules to minDeploy 5000, deploy 1000,
	@MODULE[RealChuteModule]
	{
		@PARACHUTE
		{
			@minDeployment = 3500
			@deploymentAlt = 1500
		}
	}
}