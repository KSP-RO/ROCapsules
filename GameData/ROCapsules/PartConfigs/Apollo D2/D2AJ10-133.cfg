PART
{
	name = ROC-D2AJ10-133
	module = Part
	author = Mcdouble, Vader111

	RSSROConfig = True

	//	============================================================================
	//	Model and Dimensions
	//	============================================================================

	MODEL
	{
		model = ROCapsules/Assets/McDouble/D2/D2AJ10-133
	}

	scale = 1
	rescaleFactor = 1.0

	node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0, -1.9834, 0.0, 0.0, -1.0, 0.0, 1

	CoMOffset = 0.0, -0.25, 0.0

	// stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,0,0

	//	============================================================================
	//	Title, Description, Category, Techs
	//	============================================================================

	TechRequired = unlockParts
	cost = 150
	entryCost = 1
	category = Engine
	subcategory = 0

	title = AJ10-133-LH
	manufacturer = Aerojet
	description = AJ10 variant burning liquid hydrogen and oxygen, proposed for use on the GE D-2 vehicle. (HINT: hold ALT while placing engines to disable surface attach.)
	tags = AJ10, D2, 133, GE

	bulkheadProfiles = size0p5

	engineType = AJ10_Adv

	//	============================================================================
	//	Thermo, Durability
	//	============================================================================

	crashTolerance = 10
	breakingForce = 250
	breakingTorque = 250
	maxTemp = 673.15
	skinMaxTemp = 773.15
	emissiveConstant = 0.6
	thermalMassModifier = 1.0
	skinMassPerArea = 2.0
	stagingIcon = LIQUID_ENGINE
	fuelCrossfeed = True
	stageOffset = 1
	childStageOffset = 1

	//	============================================================================
	//	Modules and Resources
	//	============================================================================

	MODULE
	{
		name = ModuleEnginesRF
		thrustVectorTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalResponseSpeed = 9
		useGimbalResponseSpeed = true
		gimbalTransformName = gimbal
		gimbalRange = 4
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.4
		maxDistance = 15
		falloff = 2
		thrustTransformName = thrustTransform
	}

	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = heatColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}

	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = throttleColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}

	MODULE
	{
		name = ModuleColorChanger
		moduleID = heatColor
		animRate = 0.025
		shaderProperty = _EmissiveColor
		excludedRenderer = innerGlow
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 1 1 1 1
			key = 1 1 1 1
		}
		greenCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		blueCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		alphaCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
	}

	MODULE
	{
		name = ModuleColorChanger
		moduleID = throttleColor
		animRate = 2
		shaderProperty = _TintColor
		includedRenderer = innerGlow
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 0
			key = 1 1
		}
		greenCurve
		{
			key = 0 0
			key = 1 1
		}
		blueCurve
		{
			key = 0 0
			key = 1 1
		}
		alphaCurve
		{
			key = 0 0
			key = 1 1
		}
	}
}

@PART[ROC-D2AJ10-133]:AFTER[RealismOverhaulEngines]
{
	@title = AJ10-133-LH
	@description = AJ10 variant burning liquid hydrogen and oxygen, proposed for use on the GE D-2 Apollo vehicle.
	@MODULE[ModuleEngineConfigs] 
	{
		@configuration = AJ10-133-LH
		!CONFIG[AJ10-138] {}
		!CONFIG[AJ10-118F] {}
		!CONFIG[AJ10-118K] {}
	}
}

//	==================================================
//	AJ10-133-LH plume configuration.
//	==================================================

@PART[ROC-D2AJ10-133]:BEFORE[RealPlume]
{
	//main wispy red plume
	PLUME
	{
		name = Cryogenic_LowerSSME_CE
		transformName = thrustTransform
		localRotation = 0,0,0
		localPosition = 0,0,0

		speed = 1
		energy = 1
		emissionMult = 1

		shockPosition = 0,0,0.41
		shockScale = 1

		plumePosition = 0,0,0.128
		plumeScale = 1.5

		plume2Scale = 1.2
	}

	//secondary white flare
	PLUME
	{
		name = Hydrolox_UpperBlue
		transformName = thrustTransform
		localRotation = 0,0,0
		localPosition = 0,0,0

		energy = 1
		speed = 1
		emissionMult = 1

		flarePosition = 0,0,0
		flareScale = 0.3

		fumePosition = 0,0,0
		fumeScale = 0

		streamPosition = 0,0,0
		streamScale = 0

		shockconePosition = 0,0,0
		shockconeScale = 0
	}
}
@PART[ROC-D2AJ10-133]:FOR[zzPostRealPlumeROEngines]
{
	@EFFECTS
	{
		//adjust plume so only flare is generated
		@Hydrolox_UpperBlue
		{
			@MODEL_MULTI_SHURIKEN_PERSIST[Hydrolox_UpperBlue-fume]
			{
				%emissionMult = 0.0
			}
			@MODEL_MULTI_SHURIKEN_PERSIST[Hydrolox_UpperBlue-stream]
			{
				%emissionMult = 0.0
			}
			@MODEL_MULTI_SHURIKEN_PERSIST[Hydrolox_UpperBlue-shockcone]
			{
				%emissionMult = 0.0
			}
			@AUDIO
			{
				@clip = NULL
				@volume = 0
			}
		}
		
		@Cryogenic_LowerSSME_CE
		{
			@MODEL_MULTI_SHURIKEN_PERSIST[Cryogenic_LowerSSME_CE-shock]
			{
				%energy = 0.5
			}
			@MODEL_MULTI_SHURIKEN_PERSIST[Cryogenic_LowerSSME_CE-shock2]
			{
				%energy = 0.5
			}
			@MODEL_MULTI_SHURIKEN_PERSIST[Cryogenic_LowerSSME_CE-shock3]
			{
				%energy = 0.5
			}
		}
		
		@Cryogenic_LowerSSME_CE
		{
			|_ = CombinedPlume
		}
		@Hydrolox_UpperBlue
		{
			|_ = CombinedPlume
		}
	}
	
	@MODULE[ModuleEngineConfigs]
	{
		@CONFIG,*
		{
			%powerEffectName = CombinedPlume
		}
	}
}
