PART
{
	name = ROC-LEMAscentBDB
	module = Part
	author = CobaltWolf, capkirk123

	RSSROConfig = true

	//	================================================================================
	//Source for all Apollo Masses: http://www.alternatewars.com/BBOW/Space/JSC-26098_Design_Mass_Properties_II.pdf
	//	================================================================================
	//Apollo Lunar Ascent Module Dry Mass Breakdowns:
	//	================================================================================
	//Apollo Docking Port Drogue: 99.5 lbs
	//	Avionics: 78.1 lbs
	//		Ren Radar Sect: 78.1 lbs
	//	Other: 21.4 lbs
	//		Drogue: 21.4 lbs
	//	================================================================================
	//LMAE: 175.1 lbs
	//	Propulsion: 175.1 lbs
	//		Ascent Engine: 172.7 lbs
	//		Engine & Misc: 2.4 lbs
	//	================================================================================
	//LEM Decoupler: 63.8 lbs
	//	Structure: 35.1 lbs
	//		Interstage Mts Ext: 13.3 lbs
	//		Midsection Interstage Mts: 21.8 lbs
	//	Other: 28.7 lbs
	//		Explosive Devices: 19.0 lbs
	//		Explosive Structure: 9.7 lbs
	//	================================================================================
	//LEM Ascent Module: 
	//	Structure: 990.9 lbs
	//			Front Face: 167.7 lbs
	//		Front Face Skins: 46.2 lbs
	//		Beams Vertical: 22.8 lbs
	//		Caps FF Beams: 2.2 lbs
	//		Stiffeners Skin: 19.4 lbs
	//		Front Face Window Frames: 14.2 lbs
	//		EVA Handrail Instl: 6.5 lbs
	//		Cabin 340 Supports: 2.1 lbs
	//		Cabin Supports: 0.2 lbs
	//		Cabin EPS Supports: 2.7 lbs
	//		Cabin Comm Supports: 0.7 lbs
	//		Front Face Windows: 24.1 lbs
	//		Front Face Hatch: 13.0 lbs
	//		Front Face Jsf: 13.6 lbs
	//			Cabin: 202.5 lbs
	//		Cabin Skins: 29.9 lbs
	//		Cabin IMU Beams: 18.7 lbs
	//		Cabin Longerons: 21.2 lbs
	//		Frames Cabin Skins: 16.8 lbs
	//		Frames Upr Docking Window: 5.9 lbs
	//		Cabin 340 Supports: 38.0 lbs
	//		ECS Supports: 3.5 lbs
	//		EPS Supports: 3.3 lbs
	//		RCS Supports: 7.4 lbs
	//		Console Supports: 2.0 lbs
	//		Cabin Deck: 24.3 lbs
	//		Cabin Window: 4.0 lbs
	//		Cabin Jsf: 27.5 lbs
	//			Midsection: 550.1
	//		Tunnel Skins: 15.5 lbs
	//		Midsection Skins: 22.9 lbs
	//		Midsection Bulkheads: 97.4 lbs
	//		Beams Y22: 16.6 lbs
	//		Beams Y17: 12.0 lbs
	//		Beams Y37: 4.1 lbs
	//		Beams Engine: 15.0 lbs
	//		Beams Bulkheads: 21.5 lbs
	//		Midsection Longerons: 9.4 lbs
	//		Midsection Stiffeners: 32.0 lbs
	//		Midsection Frames: 23.2 lbs
	//		Midsection S&C Supports: 0.8 lbs
	//		Midsection N&G Supports: 0.8 lbs
	//		Midsection 340 Supports: 54.7 lbs
	//		Midsection ECS Supports: 17.1 lbs
	//		Midsection Inst Supports: 1.0 lbs
	//		Midsection EPS Supports: 12.2 lbs
	//		Midsection Prop Supports: 30.2 lbs
	//		Midsection RCS Supports: 49.9 lbs
	//		Midsection Comm Supports: 13.9 lbs
	//		Midsection GFE Supports: 3.2 lbs
	//		MS Deck X2335: 14.2 lbs
	//		MS Deck X2535: 18.4 lbs
	//		MS Deck X277: 7.7 lbs
	//		MS Deck X294: 22.1 lbs
	//		MS Deck X310: 1.9 lbs
	//		Midsection Hatch: 10.9 lbs
	//		Midsection JSF: 21.5 lbs
	//			AEB: 70.3 lbs
	//		AEB Racks-WO-CP: 16.3 lbs
	//		AEB Horizontal Beams: 9.8 lbs
	//		AEB Cold-Plate Asy: 18.7 lbs
	//		AEB Ftg&Trusses: 6.2 lbs
	//		AEB ECS Supports: 1.0 lbs
	//		AEB Inst Supports: 0.2 lbs
	//		AEB EPS Supports: 5.3 lbs
	//		AEB Prop Supports: 1.2 lbs
	//		AEB RCS Supports: 9.7 lbs
	//		AEB Antenna Supports: 0.5 lbs
	//		AEB JSF: 1.4 lbs
	//			Misc: 0.3 lbs
	//		Ascent LCD Total: 0.1 lbs
	//		Ascent Miscl/LCD: 0.2 lbs
	//	TPS: 363.9 lbs
	//		Front Face Window Shielding: 1.6 lbs
	//		Cabin Window Shielding: 0.7 lbs
	//		Front Face Cabin Shielding: 39.1 lbs
	//		Front Face Cabin Insulation: 27.5 lbs
	//		Front Face Cabin Jsf: 12.6 lbs
	//		Front Face Cabin Supports: 4.2 lbs
	//		Midsection Shield: 58.5 lbs
	//		Midsection Insul: 55.2 lbs
	//		Midsection Jsf: 5.2 lbs
	//		Midsection Shield Supports: 107.6 lbs
	//		AEB Shielding: 19.5 lbs
	//		AEB Insulation: 16.2 lbs
	//		AEB Jsf: 2.9 lbs
	//		AEB Suppts: 13.1 lbs
	//	Propulsion: 536.3 lbs
	//			Ascent Propulsion System: 294.4 lbs
	//		Propellant Tank Inst: 130.7 lbs
	//		Propellant Tank Quantity Sensors: 1.8 lbs
	//		Propellant Plumbing: 23.0 lbs
	//		Helium Tanks: 107.8 lbs
	//		Pressurization Plumbing: 26.6 lbs
	//		Pressurization Sys: 4.5 lbs
	//			Reaction Control System: 241.9 lbs
	//		Fuel Tanks: 17.6 lbs
	//		Oxidizer Tanks 21.0 lbs
	//		Ascent Prop Tie-In: 13.4 lbs
	//		Fuel System: 22.1 lbs
	//		Oxidizer System: 22.0 lbs
	//		Prop Filter & Iso Valve: 3.9 lbs
	//		Helium Tanks: 16.6 lbs
	//		Plumbing-Press Sys A: 11.9 lbs
	//		Plumbing-Press Sys B: 11.7 lbs
	//		Thrust Chamber Assy: 82.5 lbs
	//		Hardware Cluster A: 4.9 lbs
	//		Hardware Cluster B: 4.8 lbs
	//		Hardware Cluster C: 4.8 lbs
	//		Hardware Cluster D: 4.7 lbs
	//	Power: 734.8 lbs
	//		Battery Ascent: 247.3 lbs
	//		Elect Cont Assy: 21.0 lbs
	//		Inverter Ascent: 30.8 lbs
	//		Electronic Unit: 20.1 lbs
	//		Panel 11 Ascent: 42.5 lbs
	//		Panel 16 Ascent: 36.4 lbs
	//		GN&C Harness Assy: 5.1 lbs
	//		S&C Harness Assy: 0.1 lbs
	//		ECS Harness Assy: 12.1 lbs
	//		Instr Harness Assy: 1.8 lbs
	//		EPS Harness Assy: 13.3 lbs
	//		Prop Harness Assy: 3.1 lbs
	//		RCS Harness Assy: 1.2 lbs
	//		Comm Harness Assy: 4.4 lbs
	//		EDS Harness Assy: 6.0 lbs
	//		Multi-Subsys Harness: 229.3 lbs
	//		Misc Harness Assy: 3.0 lbs
	//		Installation Harware: 49.2 lbs
	//		Delta Weight Changes: 0.9 lbs
	//		Wire Adjustment: 7.2 lbs
	//	Avionics: 321.1 lbs
	//		ATCA: 23.7 lbs
	//		Rate Gyro Assy: 2.0 lbs
	//		Abort Guidance System: 53.3 lbs
	//		Signal Conditioner: 70.9 lbs
	//		PCMTEA: 22.6 lbs
	//		Data Storage Unit: 2.5 lbs
	//		Caution & Warning: 18.3 lbs
	//		AEB JSF: 0.2 lbs
	//		ECS Sensors: 5.9 lbs
	//		Prop Sensors: 3.6 lbs
	//		RCS Sensors: 4.9 lbs
	//		VHF Xceiver & Diplexer: 13.1 lbs
	//		Sig Processor Assy: 10.4 lbs
	//		VHF In-Flight Antenna: 4.8 lbs
	//		UHF Ranging Sys: 2.6 lbs
	//		EVA Antenna Sys: 2.0 lbs
	//		S-Band Transceiver: 20.0 lbs
	//		Power Ampl & Diplex: 18.7 lbs
	//		In-Flight Antennas: 0.8 lbs
	//		Steerable Antenna: 27.5 lbs
	//		Misc: 13.3 lbs
	//	Environment: 662.5 lbs
	//		Displays: 48.0 lbs
	//		Controls: 185.2 lbs
	//		Furnishings: 71.5 lbs
	//		Outer Lighting: 26.4 lbs
	//		Inner Lighting: 4.4 lbs
	//		Misc: 8.6 lbs
	//		Waste Management: 3.9 lbs
	//		Paint: 6.0 lbs
	//		Crew Provisions: 31.3 lbs
	//		HAM Std 190 Pjg: 101.8 lbs
	//		190 Pkg Hdw: 10.0 lbs
	//		O2+H2O Coolant Assy: 36.1 lbs
	//		Atmos Revit Section: 2.8 lbs
	//		-290 Subtotal: 7.9 lbs
	//		HTS Pri Loop: 24.9 lbs
	//		HTS Secondary Loop: 8.0 lbs
	//		Total GOX Tanks: 10.1 lbs
	//		390 OX Module: 8.9 lbs
	//		390 Pkg-Hdw: 7.7 lbs
	//		PLSS O2 Recharge: 3.5 lbs
	//		Total H2O Tanks: 10.7 lbs
	//		490 H2O Module: 5.7 lbs
	//		490 Pkg-Hdw: 4.9 lbs
	//		Plumbing Gaec: 28.7 lbs
	//		Cold Plates R&D: 2.9 lbs
	//		Total Primary CP: 2.6 lbs
	//		LiOH Cartridge: 18.2 lbs (not incl., move to wet mass)
	//	Other: 224.0 lbs
	//		BPA Installed Hardware: 1.3 lbs
	//		Primary GN&C Sys: 258.4 lbs
	//		Ordeal: 6.9 lbs
	//		Crew Provisions: 376.9 lbs (not incl., move to wet mass)
	//		Instrument Science Equipment: 15.7 lbs
	//		Electrical Ascent: 1.7 lbs
	//		Mfg Var At Whg: -70.4 lbs
	//		Various Updates: 10.6 lbs
	//	================================================================================
	//TOTAL DRY MASS: 4171.9 lbs
	//	Structure: 1026.0 lbs
	//	TPS: 363.9 lbs
	//	Propulsion: 711.4 lbs
	//	Power: 734.8 lbs
	//	Avionics: 399.2 lbs
	//	Environmental: 662.5 lbs
	//	Other: 274.1 lbs

	//	================================================================================
	//Apollo Lunar Ascent Module Inert Mass Breakdowns:
	//	================================================================================
	//LEM Ascent Module: 121.7 lbs
	//	Non-Cargo: 121.7 lbs
	//		Trapped APS: 14.2 lbs (not incl., RF already calculates residuals, move to wet mass)
	//		Unused APS Prop: 47.4 lbs (not incl., move to wet mass)
	//		Disp & Malfunction Prop: 140.3 lbs (not incl., move to wet mass)
	//		Unusable Propellant - Main: 49.9 lbs (not incl., RF already calculates residuals, move to wet mass)
	//		Unusable Propellant - RCS: 121.7 lbs
	//INERT MASS: 121.7 lbs

	//TOTAL INERT MASS: 4293.6 lbs (4940.5 lbs all included)

	//	================================================================================
	//Apollo Lunar Ascent Module Wet Mass Breakdowns:
	//	================================================================================
	//LEM Ascent Module: 6277.0 lbs
	//	Non-Propellant: 530.8 lbs
	//		Total Coolant: 24.6 lbs
	//		Tanked GOX: 4.8 lbs
	//		Water - Residual: 1.1 lbs
	//		Water Tanked: 90.0 lbs
	//		Nitrogen Asc H20 Tnk: 0.1 lbs
	//		Helium-Ascent-APS: 13.0 lbs
	//		Helium-Ascent-RCS: 2.1 lbs
	//		LiOH Cartridge: 18.2 lbs
	//		Crew Provisions: 376.9 lbs (includes food, along with scientific equipment?)
	//	Propellant: 5746.2 lbs
	//		Propellant: 4984.9 lbs
	//		+Trapped APS: 14.2 lbs
	//		+Unused APS Prop: 47.4 lbs
	//		+Disp & Malfunction Prop: 140.3 lbs
	//		+Unusable Propellant - Main: 49.9 lbs
	//		RCS Propellant: 509.5 lbs

	//GROSS MASS: 10570.6 lbs
	//ALL INCLUDED GROSS MASS: 10570.6 lbs

	//	================================================================================
	//Ultimate Part Mass Assignments:
	//	================================================================================
	//	Apollo Docking Port Drogue: 99.5 lbs (45.13 kg)
	//		Dry Mass: 99.5 lbs
	//	================================================================================
	//	LMAE: 175.1 lbs (79.42 kg)
	//		Dry Mass: 175.1 lbs
	//	================================================================================
	//	LEM Decoupler: 63.8 lbs (28.94 kg)
	//		Dry Mass: 63.8 lbs
	//	================================================================================
	//	LEM Ascent Module: 3955.2 lbs (1794.05 kg)
	//		Dry Mass: 3833.5 lbs
	//		Inert Mass: 121.7 lbs
	//	================================================================================
	//INERT MASS: 4293.6 lbs (1947.54 kg)

	//	================================================================================
	//Ultimate Part Resource Assignments:
	//	================================================================================
	//LM Ascent Module:
	//	APS Propellant: 2199.40 L
	//		AZ50: 1015.1 L
	//		NTO: 1019.3 L
	//		Helium: 33000 L (/200)
	//	RCS Propellant: 220.27 L (RCS propellant loaded at 1.94:1 in expectation of crossfeed to APS)
	//		AZ50: 87.3 L
	//		NTO: 106.3 L
	//		Helium: 5333 L (/200)
	//	LM Ascent LS: 132.85 L
	//		Water (Cooling): 11.16 L
	//		Water (Crew): 40.82 L
	//		Oxygen: 1544 L (/200)
	//		Food: 35.1 L (this isn't actually specified, presumably included under supplies. Just use what we had before)
	//		LiOH: 5.65 L
	//		Waste: 3.2 L
	//		WasteWater: 29.2 L
	//	LM Ascent EC: 59675 EC (1,000 EC/L)
	//		EC: 59.675 L
	//	LM Excess: 200 L (???)
	//	LS Resources Mass (including food): 72.27 kg
	//	LS Resources Mass (excluding food): 62.41 kg
	//TOTAL TANK SIZE (NO LS): 2662.935 L
	//TOTAL TANK SIZE (LS): 2862.935 L

	//	================================================================================
	//Tank Mass Compensation
	//	================================================================================
	//	LM Ascent APS Tank (SM-IV): 226.4 kg
	//	LM Ascent RCS Tank (SM-IV): 20.97 kg
	//	LM Ascent LS Tank (SM-IV): 12.75 kg
	//	LM Ascent Batteries (SM-IV): 85.95 kg


	//	============================================================================
	//	Model and Dimensions
	//	============================================================================

	MODEL
	{
		model = ROCapsules/Assets/BDB/Apollo/LM_AscentStage
		rotation = 0, 180, 0
	}

	INTERNAL
	{
		name = ROC-LEMInternal
		offset = 0, -0.25, 0
	}

	scale = 1.0
	rescaleFactor = 1.5646

	node_stack_bottom = 0.0, -0.332353, 0.0, 0.0, -1.0, 0.0, 1
	//node_stack_bottom2 = 0.0, -0.8873273, 0.0, 0.0, -1.0, 0.0, 1
	node_stack_top = 0.0, 0.6955456, 0.0, 0.0, 1.0, 0.0, 1

	// stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	//	============================================================================
	//	Title, Description, Category, Techs
	//	============================================================================

	TechRequired = unlockParts
	cost = 150
	entryCost = 1
	category = Pods
	subcategory = 0
	title = #rocLEMAscentBDBTitle	//Apollo LM Ascent Stage
	manufacturer = #roMfrGrumman
	description = #rocLEMAscentBDBDesc	//The ascent stage and crew compartment of the Apollo Lunar Module.
	tags = apollo, moon, lunar, crew, armstrong, aldrin, cm, csm, saturn, v, lem, lm, module, ascent

	vesselType = Lander
	stagingIcon = RCS_MODULE
	CrewCapacity = 2
	bulkheadProfiles = size1, size2

	//	============================================================================
	//	Thermo, Durability
	//	============================================================================

	mass = 1.53975		//1794.05 kg - 85.95 kg (batteries) - 226.4 kg (APS tank) - 20.97 kg (RCS tank) + 12.75 kg (LS tank) + 72.27 kg (LS resources) - 6 kg (Habitat Atmosphere) = 1539.75 kg
	crashTolerance = 8
	breakingForce = 250
	breakingTorque = 250
	fuelCrossFeed = True
	NoCrossFeedNodeKey = bottom
	leaveCategory = True
	stageOffset = 1
	childStageOffset = 1
	
	//Kapton blankets over aluminum structure
	skinTempTag = MLI
	internalTempTag = Instruments
	skinInsulationTag = True
	paintEmissivityTag = 0.1	//partly painted

	//	============================================================================
	//	Modules and Resources
	//	============================================================================

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		hasHibernation = True
		hibernateOnWarp = True
		hibernationMultiplier = 0.65

		RESOURCE
		{
			name = ElectricCharge
			rate = 0.763	//1.525 decrease so LM lives advertised 75 hr+ with J-class batteries
		}
	}

	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}

	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = Review Stored Data
		storeActionName = Store Experiments
		storageRange = 2.0
	}

	MODULE
	{
		name = ModuleRCSFX
		stagingEnabled = False
		thrusterTransformName = rcsTransform
		thrusterPower = 0.445
		runningEffectName = control

		// MR 2.05:1
		PROPELLANT
		{
			name = Aerozine50
			ratio = 0.4373
		}

		PROPELLANT
		{
			name = MON1
			ratio = 0.5627
		}

		PROPELLANT
		{
			name = Helium
			ratio = 10.0
			ignoreForIsp = True
		}
		atmosphereCurve
		{
			key = 0 278
			key = 1 168
			key = 4 0.001
		}
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = deploy
		isOneShot = false
		startEventGUIName = Extend Antennas
		endEventGUIName = Retract Antennas
		actionGUIName = Toggle Antenna
		allowAnimationWhileShielded = False
	}

	MODULE
	{
		name = ModuleColorChanger
		shaderProperty = _EmissiveColor
		animRate = 0.8
		animState = false
		useRate = true
		toggleInEditor = true
		toggleInFlight = true
		toggleInFlight = true
		unfocusedRange = 5
		toggleName =  Toggle Lights
		eventOnName = Lights On
		eventOffName = Lights Off
		toggleAction = True
		defaultActionGroup = Light
		redCurve
		{
			key = 0 0 0 3
			key = 1 1 0 0
		}
		greenCurve
		{
			key = 0 0 0 1
			key = 1 1 1 0
		}
		blueCurve
		{
			key = 0 0 0 0
			key = 1 0.7 1.5 0
		}
		alphaCurve
		{
			key = 0 1
		}
	}

	MODULE:NEEDS[ConnectedLivingSpace]
	{
		name = ModuleConnectedLivingSpace
		passable = true
		//impassablenodes = bottom
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = SM-IV
		volume = 2549.345
		basemass = 1.53975

		//	Two batteries ~16.6 kWh (28 V @ 296 Ah each).

		TANK
		{
			name = ElectricCharge
			amount = 59675
			maxAmount = 59675
		}

		//Propellant: 5746.2 lbs
		TANK
		{
			// 173.3 lbs RCS + 2,014.1 lbs main
			name = Aerozine50
			amount = 1102.4
			maxAmount = 1102.4
		}
		TANK
		{
			// 336.2 lbs RCS + 3,222.6 lbs main
			name = MON1
			amount = 1125.6
			maxAmount = 1125.6
		}
		TANK
		{
			name = Helium
			amount = 38333
			maxAmount = 38333
		}
	}

	//	============================================================================
	//	Comms
	//	============================================================================

	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = DIRECT
		antennaPower = 14400
		antennaCombinable = True
		antennaCombinableExponent = 2.0
		packetInterval = 1.0
		packetSize = 1.024
		requiredResource = ElectricCharge
		packetResourceCost = 0.1
		DeployFxModules = 0
	}

	//	============================================================================
	//	Animations and Textures
	//	============================================================================

	// MODULE
	// {
		// name = ModuleB9PartSwitch
		// moduleID = meshSwitchFoil
		// switcherDescription = Foil
		// switcherDescriptionPlural = Foils
		// affectDragCubes = True
		// affectFARVoxels = True
		// SUBTYPE
		// {
			// name = Gold
		// }
		// SUBTYPE
		// {
			// name = Silver
			// TEXTURE
			// {
				// texture = ROCapsules/Assets/BDB/Apollo/Paint/Silver/bluedog_LM_Descent_Silver
				// currentTexture = bluedog_LM_Descent
			// }
			// TEXTURE
			// {
				// shaderProperty = _SpecMap
				// texture = ROCapsules/Assets/BDB/Apollo/Paint/Silver/bluedog_LM_Descent_Silver_Spec
				// currentTexture = bluedog_LM_Descent_Spec
			// }
			
		// }
	// }

	EFFECTS
	{
		control
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				clip = sound_rocket_mini
				transformName = rcsTransform
				volume = 0.0 0.0
				volume = 0.02 0.1
				volume = 0.5 0.1
				volume = 1.0 0.1
				pitch = 0.0 0.75
				pitch = 1.0 1.5
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/Monoprop_small
				transformName = rcsTransform
				emission = 0.0 0.0
				emission = 0.1 0.0
				emission = 1.0 1.0
				speed = 0.0 0.8
				speed = 1.0 1.0
				localRotation = -90, 0, 0
			}
		}
	}
}

//	==================================================
//	Apollo Lunar Module ascent stage.

//	Internal space configuration.
//	==================================================

@INTERNAL[ROC-LEMInternal]:AFTER[RealismOverhaul]
{
	@MODULE[InternalSeat],*
	{
		%allowCrewHelmet = False
		%kerbalOffset = 0.0, 0.0, 0.0
		%kerbalEyeOffset = 0.0, 0.0, 0.0
	}
}

//	================================================================================
//	TAC Life Support Compatibility
//	================================================================================

@PART[ROC-LEMAscentBDB]:FOR[ROCapsules]:NEEDS[TacLifeSupport]
{
	@description ^= :$: Supports a crew of two for up to 3 days of active operations.

	@mass -= 0.08502		//-72.27 kg (LS Resources) - 12.75 kg (LS Tanks)

	@MODULE[ModuleFuelTanks]
	{
		@volume += 132.85
		@basemass -= 0.08502

		TANK
		{
			name = Food
			amount = 23.4
			maxAmount = 35.1
		}

		TANK
		{
			name = Water
			amount = 40.82
			maxAmount = 40.82
		}

		TANK
		{
			name = Oxygen
			amount = 1544
			maxAmount = 1544
		}

		TANK
		{
			name = LithiumHydroxide
			amount = 5.65
			maxAmount = 5.65
		}

		TANK
		{
			name = Waste
			amount = 0
			maxAmount = 3.2
		}

		TANK
		{
			name = WasteWater
			amount = 0
			maxAmount = 29.3
		}

		TANK
		{
			name = CarbonDioxide
			amount = 0
			maxAmount = 1023
		}
	}

	MODULE
	{
		name = TacGenericConverter
		converterName = CO2 LiOH Scrubber
		tag = Life Support
		StartActionName = Start CO2 Scrubber
		StopActionName = Stop CO2 Scrubber
		conversionRate = 2.0
		GeneratesHeat = False
		UseSpecialistBonus = False

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 0.1
		}

		INPUT_RESOURCE
		{
			ResourceName = CarbonDioxide
			Ratio = 0.00589121
		}

		INPUT_RESOURCE
		{
			ResourceName = LithiumHydroxide
			Ratio = 0.00001189
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Waste
			Ratio = 0.00003847
			DumpExcess = False
		}
	}
}

//	================================================================================
//	Add RasterPropMonitorComputer Module
//	================================================================================

@PART[ROC-LEMAscentBDB]:NEEDS[RasterPropMonitor]
{
	MODULE
	{
		name = RasterPropMonitorComputer
		storedStrings = v 0.2.0.0|15.01.2017|	LEM	   |LUNAR|CREW VEHICLE|SQD002002-A1|SSS-DG|		 DECQ  &   Dragon01
		//triggeredEvents = ALCOR_CALLRECOVERYTEAM
		RPM_COLOROVERRIDE
		{
			// NASA gauge ----------------------------------------------
			COLORDEFINITION
			{
				name = ASET_NASAGAUGESCALE_ACTIVECOLOR
				color= 144,139,118,255
			}
			COLORDEFINITION
			{
				name = ASET_NASAGAUGEHAND_ACTIVECOLOR
				color= 184,179,148,255
			}

			// ASET aircraft instruments -----------------------------
			// round gauge backlight
			COLORDEFINITION
			{
				name = ASET_AIRCRAFTGAUGESCALE_ACTIVECOLOR //light on
				color = 144,139,118,255
			}
			COLORDEFINITION
			{
				name = ASET_AIRCRAFTGAUGEHAND_ACTIVECOLOR //light on
				color =184,179,148,255
			}

			// switchers -------------------------------------------------
			COLORDEFINITION
			{
				name = ASET_SWITCHER_NAME_POSITIVECOLOR
				color= 184,179,158,255
			}
			COLORDEFINITION
			{
				name = ASET_SWITCHER_STATE_POSITIVECOLOR
				color= 154,149,118,255
			}
			COLORDEFINITION
			{
				name = ASET_SWITCHER_BORDER_POSITIVECOLOR
				color= 134,129,98,255
			}
			COLORDEFINITION
			{
				name = ASET_SWITCHER_MARK_POSITIVECOLOR
				color= 194,189,158,255
			}

			// LEDs off
			COLORDEFINITION
			{
				name = ASET_SWITCHER_LEDS_POSITIVECOLOR
				color= 0,0,0,255
			}
			COLORDEFINITION
			{
				name = ASET_SWITCHER_LEDS_ZEROCOLOR
				color= 0,0,0,255
			}

			// Numeric Input display ---------------------------------------
			// background
			COLORDEFINITION
			{
					name = ASET_NUMINPUT_DISPLAY_DIFFUSE_ACTIVECOLOR
					color= 0,0,0,255
			}
			COLORDEFINITION
			{
					name = ASET_NUMINPUT_DISPLAY_DIFFUSE_PASSIVECOLOR
					color= 0,40,0,255
			}

			COLORDEFINITION
			{
					name = ASET_NUMINPUT_DISPLAY_EMISSIVE_ACTIVECOLOR
					color= 0,40,0,255
			}
			COLORDEFINITION
			{
					name = ASET_NUMINPUT_DISPLAY_EMISSIVE_PASSIVECOLOR
					color= 0,0,0,255
			}

			// readout
			COLORDEFINITION
			{
				name = ASET_NUMINPUT_DISPLAY_POSITIVECOLOR
				color= 0,255,0,255
			}
			COLORDEFINITION
			{
				name = ASET_NUMINPUT_DISPLAY_ZEROCOLOR
				color= 0,55,0,255
			}
			COLORDEFINITION
			{
				name = ASET_NUMINPUT_DISPLAY_NEGATIVECOLOR
				color= 0,0,0,255
			}
			COLORDEFINITION
			{
				name = ASET_NUMINPUT_DISPLAY_GHOSTCOLOR
				color= 0,255,0,90
			}

			// digital indicator --------------------------------
			// readout
			COLORDEFINITION
			{
				name = ASET_DIGITALINDICATOR_NORMAL_COLOR
				color= 0,255,0,255
			}
			COLORDEFINITION
			{
				name = ASET_DIGITALINDICATOR_WARNING_COLOR
				color= 0,255,0,255
			}
			COLORDEFINITION
			{
				name = ASET_DIGITALINDICATOR_STBY_COLOR
				color= 0,255,0,120
			}

			// legend
			COLORDEFINITION
			{
				name = ASET_DIGITALINDICATOR_LEGEND_NORMAL_COLOR
				color= 0,255,0,255
			}
			COLORDEFINITION
			{
				name = ASET_DIGITALINDICATOR_LEGEND_STBY_COLOR
				color= 0,255,0,120
			}

			// label plate ---------------------------------------------
			// background
			COLORDEFINITION
			{
				name = ASET_PLATEBKG_DIFFUSE_PASSIVECOLOR
				color= 80,80,80,255
			}
			COLORDEFINITION
			{
				name = ASET_PLATEBKG_DIFFUSE_ACTIVECOLOR
				color= 80,80,80,255
			}
			COLORDEFINITION
			{
				name = ASET_PLATEBKG_EMISSIVE_PASSIVECOLOR
				color= 0,0,0,255
			}
			COLORDEFINITION
			{
				name = ASET_PLATEBKG_EMISSIVE_ACTIVECOLOR
				color= 0,0,0,255
			}

			// label text
			COLORDEFINITION
			{
				name = ASET_PLATETEXT_POSITIVECOLOR
				color= 174,169,138,255
			}
			COLORDEFINITION
			{
				name = ASET_PLATETEXT_ZEROCOLOR
				color= 255,255,255,255
			}
		}
	}
}

//	================================================================================
//	Configure RemoteTech
//	================================================================================

@PART[ROC-LEMAscentBDB]:FOR[ROCapsules]:NEEDS[RemoteTech]
{
	@description ^= :$: Features an integrated telecommunications system with a maximum effective range of 600 Mm, power consumption 50 Watts, data rate 1 Mbit/s.

	!MODULE[ModuleDataTransmitter],*{}

	!MODULE[ModuleRTAntenna*],*{}

	!MODULE[ModuleSPU*],*{}

	@MODULE[ModuleCommand]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate -= 0.025
		}
	}

	MODULE
	{
		name = ModuleSPU
		IsRTCommandStation = False
		RTCommandMinCrew = 0
	}

	//	Parabolic S-band antenna for Earth communications.
	MODULE
	{
		name = ModuleRTAntenna
		ActionMode0Name = Deactivate HGA
		ActionMode1Name = Activate HGA
		IsRTActive = False
		Mode0DishRange = 0
		Mode1DishRange = 600000
		DishAngle = 13.0
		EnergyCost = 0.025
		DeployFxModules = 0

		TRANSMITTER
		{
			PacketInterval = 1.0
			PacketSize = 1.024
			PacketResourceCost = 0.025
		}
	}

	//	Omnidirectional UHF antennas for CSM and surface EVA communications.
	MODULE
	{
		name = ModuleRTAntenna
		ActionMode0Name = Deactivate LGA
		ActionMode1Name = Activate LGA
		IsRTActive = False
		Mode0OmniRange = 0
		Mode1OmniRange = 100000
		EnergyCost = 0.025
		DeployFxModules = 0

		TRANSMITTER
		{
			PacketInterval = 1.0
			PacketSize = 0.512
			PacketResourceCost = 0.025
		}
	}
}

//	================================================================================
//	Configure RealAntennas
//	================================================================================

@PART[ROC-LEMAscentBDB]:BEFORE[RealAntennas]:NEEDS[RealAntennas]
{
	//Subtract 44 kg for 28 dbm and 34 dbm TL 5 radios
	//In reality, multiple radios shared both antennas
	@mass -= 0.044

	@MODULE[ModuleFuelTanks]
	{
		@basemass -= 0.044
	}

	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 3.0	//VHF Omnis. EVA omni and LM-CSM omni merged for simplicity
		RFBand = VHF
	}
	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 0.66	//S-band dish. S-band Omnis not included
		RFBand = S
	}
}

//	================================================================================
//	Final Pass to Make Sure TAC does not add extra resources
//	And also override the mass set by RO engine configs
//	================================================================================

@PART[ROC-LEMAscentBDB]:BEFORE[zzzRealismOverhaul]
{
	!RESOURCE,*{}
}
