PART
{
	name = ROC-StarshipLunarCM
	module = Part
	author = Stanley Creative, Vader111

	RSSROConfig = True

	//	============================================================================
	//	Model and Dimensions
	//	============================================================================

	MODEL
	{
		model = ROCapsules/Assets/Vader111/Starship/StarshipLunarCM
	}

	INTERNAL // Crap Internal Model, I "MIGHT" improve it in the future.
	{
		name = ROC-StarshipLunarInterior
	}

	scale = 1.0
	rescaleFactor = 1.0

	node_stack_top = 0.0, 16.199, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, 3

	CoMOffset = 0.0, -10.0, 0.0

	attachRules = 1,0,1,0,0

	//	============================================================================
	//	Title, Description, Category, Techs
	//	============================================================================

	TechRequired = unlockParts
	cost = 150
	entryCost = 1
	category = Pods
	subcategory = 0
	title = Starship Lunar Command Module
	manufacturer = SpaceX
	description = SpaceXâ€™s next-generation Starship Lunar spacecraft designed to carry humans, cargo & supplies to the Lunar Surface & Setup a Base.
	tags = Spacex, Starship, Lunar, Artemis
	bulkheadProfiles = size3

	vesselType = Ship
	stagingIcon = COMMAND_POD
	CrewCapacity = 8

	//	============================================================================
	//	Thermo, Durability
	//	============================================================================

	mass = 23.875
	dragModelType = default
	breakingForce = 250
	breakingTorque = 250
	maximum_drag = 0.20
	minimum_drag = 0.15
	angularDrag = 2
	crashTolerance = 20
	maxTemp = 973.15
	skinMaxTemp = 1073.15
	emissiveConstant = 0.6 // not too absorptive for reentry
	thermalMassModifier = 1.0
	skinMassPerArea = 2.0
	radiatorHeadroom = 0.5

	//	============================================================================
	//	Modules and Resources
	//	============================================================================

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		hasHibernation = True
		hibernationMultiplier = 0.625
		RESOURCE
		{
			name = ElectricCharge
			rate = 1.6
		}
	}

	MODULE
	{
		name = ModuleReactionWheel
		PitchTorque = 50
		YawTorque = 50
		RollTorque = 50
		torqueResponseSpeed = 25
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.500
		}
	}

	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}

	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = Review Stored Data
		storeActionName = Store Experiments
		storageRange = 2.0
		canBeTransferredToInVessel = True
		canTransferInVessel = True
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 200
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = 200000
			maxAmount = 200000
		}
	}

	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 10000
		externalAccess = false
		internalAccess = true
		slotsX = 5
		slotsY = 5
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}

	MODULE
	{
		name = ModuleDeployableSolarPanel
		resourceName = ElectricCharge
		chargeRate = 2.5
		raycastTransformName = Solar
		pivotName = Solar
		isBreakable = false
		isTracking = false
	}

	useSolarConfig = true
	solarUseMass = false

	SolarConfig
	{
		area = 53.4004
		level = 7
		type = static
	}
}

//	================================================================================
//	Configure RealAntennas
//	================================================================================

@PART[ROC-StarshipLunarCM]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}

	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF		//Default to UHF-band
	}

	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 0.8
		RFBand = Ka	//Default to Ka-band
	}
}

//	==================================================
//	Cargo Dragon command module.

//	TAC Life Support compatibility.
//	==================================================

@PART[ROC-StarshipLunarCM]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
	@description ^= :$: Cargo to Support a crew of 8 for 360 days.:

	@MODULE[ModuleFuelTanks]
	{
		@volume += 52573.71

		TANK
		{
			name = Food
			amount = 16848
			maxAmount = 16848
		}

		TANK
		{
			name = Water
			amount = 9206.21
			maxAmount = 9206.21
		}

		TANK
		{
			name = Oxygen
			amount = 1705531.92
			maxAmount = 1705531.92
		}

		TANK
		{
			name = Waste
			amount = 0
			maxAmount = 1532.16
		}

		TANK
		{
			name = WasteWater
			amount = 0
			maxAmount = 14181.12
		}

		TANK
		{
			name = CarbonDioxide
			amount = 0
			maxAmount = 1473213.74
		}
	}

	MODULE:NEEDS[TacLifeSupport]
	{
		name = TacGenericConverter
		converterName = CO2 Scrubber
		StartActionName = Start CO2 Scrubber
		StopActionName = Stop CO2 Scrubber
		tag = Life Support
		GeneratesHeat = False
		UseSpecialistBonus = False
		conversionRate = 7.0

		INPUT_RESOURCE
		{
			ResourceName = CarbonDioxide
			Ratio = 0.006216
		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 0.01
		}
	}
}
