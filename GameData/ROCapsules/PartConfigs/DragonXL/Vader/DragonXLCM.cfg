PART
{
	name = ROC-DragonXLCM
	module = Part
	author = Vader111

	RSSROConfig = True

	//  ============================================================================
	//  Model and Dimensions
	//  ============================================================================

	MODEL
	{
		model = ROCapsules/Assets/Vader/DragonXLCM
		scale = 1.0, 1.0, 1.0
	}

	scale = 1.0
	rescaleFactor = 1.0

	node_stack_top = 0.0, 6.52977, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -4.84952, 0.0, 0.0, -1.0, 0.0, 2
	node_stack_solarattach1 = -2.79019, -4.70748, -0.356742, 0.0, 1.0, 0.0, 2
	node_stack_solarattach2 = 2.79019, -4.70748, 0.356742, 0.0, -1.0, 0.0, 2

	attachRules = 1,0,1,0,1

	fx_gasBurst_white = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, decouple
	sound_decoupler_fire = decouple

	//  ============================================================================
	//  Title, Description, Category, Techs
	//  ============================================================================

	TechRequired = commandModules
	entryCost = 10000
	cost = 4500
	category = Pods
	subcategory = 0
	title = Cargo Dragon XL Capsule
	manufacturer = SpaceX
	description = SpaceXâ€™s next-generation Dragon XL spacecraft designed to carry cargo & supplies to the Lunar Gateway Station and other destinations.
	tags = Spacex, DragonXL, Gateway

	vesselType = Ship
	stagingIcon = COMMAND_POD
	CrewCapacity = 0
	bulkheadProfiles = size3, size1

	//  ============================================================================
	//  Thermo, Durability
	//  ============================================================================

	mass = 3.1
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 10
	breakingForce = 250
	breakingTorque = 250
	maxTemp = 773.15
	skinMaxTemp = 773.15
	fuelCrossFeed = True
	emissiveConstant = 0.90
	heatConductivity = 0.75
	thermalMassModifier = 5
	radiatorHeadroom = 0.5

	//  ============================================================================
	//  Modules and Resources
	//  ============================================================================

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		hasHibernation = True
		hibernationMultiplier = 0.625

		RESOURCE
		{
			name = ElectricCharge
			rate = 0.7
		}
	}

	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}

	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = Review Stored Data
		storeActionName = Store Experiments
		collectActionName = Collect Data
		allowRepeatedSubjects = True
		evaOnlyStorage = False
		storageRange = 2.5
	}

	MODULE
	{
		name = ModuleRCSFX
		stagingEnabled = False
		thrusterTransformName = rcsThrust
		thrusterPower = 0.4
		enableYaw = True
		enablePitch = True
		enableRoll = True
		enableX = True
		enableY = True
		enableZ = True
		resourceFlowMode = STAGE_PRIORITY_FLOW
		runningEffectName = running1
		PROPELLANT
		{
			name = MMH
			ratio = 0.5629
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4371
		}
		atmosphereCurve
		{
			key = 0 300
			key = 1 100
			key = 4 0.001
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 1200
		basemass = -1
		TANK
		{
			name = MMH
			amount = 647
			maxAmount = 647
			isTweakable = False
		}
		TANK
		{
			name = NTO
			amount = 502
			maxAmount = 502
			isTweakable = False
		}
		TANK
		{
			name = ElectricCharge
			amount = 55000
			maxAmount = 55000
			isTweakable = False
		}
	}

	//  ============================================================================
	//  Animations and Textures
	//  ============================================================================

	EFFECTS
	{
		running1
		{
			AUDIO_MULTI
			{
				channel = Ship
				transformName = rcsThrust
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.025
				volume = 1.0 0.1
				pitch = 0.0 0.75
				pitch = 1.0 1.5
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/Monoprop_small
				transformName = rcsThrust
				emission = 0.0 0.0
				emission = 0.1 0.0
				emission = 1.0 1.0
				speed = 0.0 0.8
				speed = 1.0 1.0
				localRotation = -90, 0, 0
			}
		}
	}
}

//  ================================================================================
//  Configure RealAntennas
//  ================================================================================

@PART[ROC-DragonXLCM]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}

	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 0.8	//Same as Orion because I cannot find any data
		RFBand = S	//Default to S-band
	}

	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF		//Default to UHF-band
	}
}

//	==================================================
//	Cargo Dragon command module.

//	TAC Life Support compatibility.
//	==================================================

@PART[ROC-DragonXLCM]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
	@description ^= :$: Cargo to Support a crew of 3 for 60 days.:
	@mass -= 0.07

	@MODULE[ModuleCommand]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate -= 0.01
		}
	}

	@MODULE[ModuleFuelTanks]
	{
		@volume += 3540

		TANK
		{
			name = Food
			amount = 0
			maxAmount = 1100
		}

		TANK
		{
			name = Water
			amount = 0
			maxAmount = 700
		}

		TANK
		{
			name = Oxygen
			amount = 0
			maxAmount = 110000
		}

		TANK
		{
			name = Waste
			amount = 0
			maxAmount = 500
		}

		TANK
		{
			name = WasteWater
			amount = 0
			maxAmount = 500
		}

		TANK
		{
			name = CarbonDioxide
			amount = 0
			maxAmount = 5000
		}
	}

	MODULE:NEEDS[TacLifeSupport]
	{
		name = TacGenericConverter
		converterName = CO2 Scrubber
		StartActionName = Start CO2 Scrubber
		StopActionName = Stop CO2 Scrubber
		tag = Life Support
		GeneratesHeat = False
		UseSpecialistBonus = False
		conversionRate = 7.0

		INPUT_RESOURCE
		{
			ResourceName = CarbonDioxide
			Ratio = 0.006216
		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 0.01
		}
	}
}