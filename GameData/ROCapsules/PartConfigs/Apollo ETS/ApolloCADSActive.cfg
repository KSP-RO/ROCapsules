PART
{
	name = ROC-ApolloCADSActive
	module = Part
	author = Zorg, capkirk

	MODEL
	{
		model = ROCapsules/Assets/BDB/Apollo/bluedog_Apollo_CADS_active
		scale = 1.0, 1.0, 1.0
	}
	rescaleFactor = 1.5646


	// --- node definitions ---
	// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z

	node_stack_top = 0.0, 0.101341, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0, -0.101781, 0.0, 0.0, -1.0, 0.0, 1
	attachRules = 1,0,1,0,1

	RSSROConfig = True

	TechRequired = standardDockingPorts
	entryCost = 2000
	cost = 3500
	category = Coupling
	subcategory = 0
	title = Apollo Block IV CADS Active Docking Port
	manufacturer = #roMfrRockwell
	description = Common Androgynous Docking Port. Developed to eliminate the limitations of the gendered Apollo docking system, as well as provide a larger passageway for delivering cargo. Equipped with a deployable capture ring to dampen impact. Permanent station ports can use the passive version, which is simpler and lighter.

	// --- standard part parameters ---
	mass = 0.311
	dragModelType = default
	maximum_drag = 0.25
	minimum_drag = 0.25
	angularDrag = 0.75
	crashTolerance = 15
	breakingForce = 200
	breakingTorque = 200
	fuelCrossFeed = True
	bulkheadProfiles = size1p2
	
	//Aluminum?
	skinTempTag = Aluminum
	internalTempTag = Instruments

	tags = ISS APAS docking PMA tantares loaf bread apollo kane ets

	MODULE
	{
		name = ModuleDockingNode
		referenceAttachNode = top
		nodeType = CADS
		gendered = false
		genderFemale = false
		acquireForce = 0.5 // 2
		acquireMinFwdDot = 0.8 // 0.7
		acquireminRollDot = -3.40282347E+38
		acquireRange = 0.25 // 0.5
		acquireTorque = 0.5 // 2.0
		captureMaxRvel = 0.1 // 0.3
		captureMinFwdDot = 0.998
		captureMinRollDot = -3.40282347E+38
		captureRange = 0.05 // 0.06
		minDistanceToReEngage = 0.25 // 1.0
		undockEjectionForce = 0.1 // 10
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = extend
		//isOneShot = true
		startEventGUIName = Extend Soft Capture Ring
		endEventGUIName = Retract Soft Caputure Ring
		actionGUIName = Toggle Ring
		allowAnimationWhileShielded = False
	}

	MODULE:NEEDS[ConnectedLivingSpace]
	{
		name = ModuleConnectedLivingSpace
		passable = True
	}

	MODULE
	{
			name = ModuleB9PartSwitch
			moduleID = hatch
			switcherDescription = Hatch
			switcherDescriptionPlural = Hatches
			switchInFlight = False

			SUBTYPE
			{
					name = Hatch
					transform = innerHatch
			}
			SUBTYPE
			{
					name = No Hatch
			}
	}

	MODULE
	{
		name = ModuleColorChanger
		shaderProperty = _EmissiveColor
		animRate = 0.8
		animState = false
		useRate = true
		toggleInEditor = true
		toggleInFlight = true
		toggleInFlight = true
		unfocusedRange = 5
		toggleName = #autoLOC_502011 //#autoLOC_502011 = Toggle Lights
		eventOnName = #autoLOC_502012 //#autoLOC_502012 = Lights On
		eventOffName = #autoLOC_502013 //#autoLOC_502013 = Lights Off
		toggleAction = True
		defaultActionGroup = Light
		redCurve
		{
			key = 0 0 0 3
			key = 1 1 0 0
		}
		greenCurve
		{
			key = 0 0 0 1
			key = 1 1 1 0
		}
		blueCurve
		{
			key = 0 0 0 0
			key = 1 0.7 1.5 0
		}
		alphaCurve
		{
			key = 0 1
		}
	}
}
